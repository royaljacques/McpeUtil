generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model DiscordConfig {
  id             Int              @id @default(autoincrement())
  discordId      String           @unique
  serverName     String
  serverMcConfig ServerMcConfig[]
  updateChannel  String?
}

model ServerMcConfig {
  id            Int            @id @default(autoincrement())
  ip            String
  port          Int
  name          String
  userId        Int
  user          DiscordConfig  @relation(fields: [userId], references: [id])
  playerByHours PlayerByHour[]
}

model PlayerByHour {
  id       Int            @id @default(autoincrement())
  hours    String
  player   Int
  serverId Int // âœ… Int au lieu de String
  server   ServerMcConfig @relation(fields: [serverId], references: [id])
}
